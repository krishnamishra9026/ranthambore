
<div class="modal-header">
  <div class="title-row py-0">
    <div class="inner-page-title">Manage Capability</div>
  </div>
  <button
    type="button"
    class="pull-right btn-close-popup"
    aria-label="Close"
    (click)="close()"
  >
    <i class="ic-close"></i>
  </button>
</div>
<div class="modal-body">
  <div class="row home-reg-form width-auto">
      <form
      autocomplete="off"
      name="capabilityForm"
      [formGroup]="capabilityForm" (ngSubmit)="saveCapability()"
      novalidate
    >
      <div class="col-lg-6 mx-auto">
        <div class="row mt-1">
          <div class="col-lg-12">

              <div class="form-group" *ngFor="let type of capabilityTypes; let i = index">
                  <label for="{{ 'type'+ i}}" class="form-label">Select Type</label>
                  <div class="col-sm-6 col-lg-6">
                    <div class="custom-controls-stacked col-sm-1 col-lg-3">
                      <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input radio-primary" id="{{ 'type'+ i}}" name="disabledGroupExample"
                          (change)="selecteType(type)" [checked]="type === capabilityType" [value]="type" mdbInputDirective />
                        <label class="custom-control-label text-capitalize" for="type{{i}}">{{ type | titlecase }}</label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group" *ngIf="capabilityType === 'crud'">
                    <label for="type" class="form-label">Capabilities</label>
                    <div class="col-sm-2col-lg-6">
                      <div class="custom-controls-stacked col-sm-1">
                        <div *ngFor="let option of crudOption; let i = index" class="custom-control custom-checkbox">
                          <input name="type" type="checkbox" class="custom-control-input checkbox-primary" id="{{ 'capabilityType'+ i}}"
                            name="module" (change)="checkboxChange(option, $event)" type="checkbox" [ngClass]="{ 'validation-field': isSubmitted }"
                            [checked]="selectedOptions" />
                          <label class="custom-control-label text-capitalize" for="capabilityType{{i}}">{{ option | titlecase
                            }}</label>
                        </div>
                      </div>
                    </div>
                  </div>
        
            <div class="form-group">
              <label for="name" class="form-label">Name</label>
              <input
                id="name"
                type="text"
                name="Name"
                class="form-control"
                formControlName="name"
                placeholder=" "
                autocomplete="off"
                [maxlength]="50"
              />
              <div
                class="validation-error"
                *ngIf="
                  submitted &&
                  capabilityForm.get('name').errors &&
                  capabilityForm.get('name').errors.required
                "
              >
                Name is required
              </div>
            </div>
            


                <div class="form-group">
                  <label for="module" class="form-label">Module Name</label>
                  <ng-select  required [items]="modules" bindLabel="name" bindValue="name"  autocomplete="nope"
                       placeholder="Select Module" formControlName="selectedModule" name="modules"
                        ></ng-select>
                </div>



          </div>
        </div>
        <div class="row">
          <div class="col-lg-12 text-center">
            <button type="submit" class="btn-cmn btn-green mt-1">Save</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
